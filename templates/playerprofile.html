{% extends "index.html" %}

{% block content %}
<style>
a {
  text-decoration: none;
  display: inline-block;
  padding: 8px 16px;
}

a:hover {
  background-color: #ddd;
  color: black;
}

.previous {
  background-color: #04AA6D;
  color: black;

</style>

<a href="{{ url_for('pointtable') }}" class="previous" style="color:white;">&laquo; Back</a>
<h3 class = 'text-center'>
  {{playername}}
</h3>
<div class="container" style="width: 600px;">
<table class="table table-striped table-hover table-sm" id="mytable">

          <thead class="table-info ">
            <tr>
               <th>Player1</th>
               <th>Player2</th>
               <th>Score</th>
            </tr>
         </thead>

         <tbody>
              {% for item in data %}
               <tr>
                 <td>{{item[0]}}</td>
                  <td>{{item[1]}}</td>
                  <td id="score">{{item[2]}}</td>
               </tr>
            {% endfor %}

         </tbody>
</table>
</div>

<p id="demo" style="color:black;">test</p>
<p id="message" style="color:black;">message</p>

<script>

  var table = document.getElementById('mytable');

  for (var i = 1, row; row = table.rows[i]; i++){

    var y = document.getElementById("mytable").rows[i].cells[2].innerHTML;
    var arry=[];
    try{
    if(y != "x" || y.match(/Forefeit.*/))
      {
        arry= y.split(",");
        var set1=arry[0].split("-");
        var set2=arry[1].split("-");
        var set3=arry[2].split("-");
        if((set1[0]>set1[1] && set2[0]>set2[1]) || (set1[0]>set1[1] && set3[0]>set3[1]) || (set2[0]>set2[1] && set3[0]>set3[1])){
          document.getElementById("mytable").rows[i].cells[0].innerHTML="<b>"+document.getElementById("mytable").rows[i].cells[0].innerHTML+"</b>";
        }
        else{
          document.getElementById("mytable").rows[i].cells[1].innerHTML="<b>"+document.getElementById("mytable").rows[i].cells[1].innerHTML+"</b>";
        }
        document.getElementById("demo").innerHTML+=set1+" "+set2+" "+set3[0]+" " +set3[1];
      }


    }
    catch(err) {
      document.getElementById("message").innerHTML = "Error: " + err + ".";
      }
  }

</script>

{% endblock %}
